<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Conductor Dashboard | Attendance System</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/conductor_dashboard.css') }}">
</head>
<body>
  <div class="container-custom">
    <div class="card-custom fade-in">
      <div class="nav-header">
        <div>
          <div class="welcome-badge">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
              <circle cx="12" cy="7" r="4"/>
            </svg>
            Conductor
          </div>
          <h1 class="heading-primary">Welcome, {{ user.name }}</h1>
          <p class="text-muted-custom">Manage your events and track attendance</p>
        </div>
        
        <div class="nav-actions">
          <a href="{{ url_for('create_event') }}" class="btn-custom btn-primary-custom">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"/>
              <line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            Create Event
          </a>
          <a href="{{ url_for('logout') }}" class="btn-custom btn-danger-custom">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
              <polyline points="16 17 21 12 16 7"/>
              <line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
            Logout
          </a>
        </div>
      </div>

      {% if events %}
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number">{{ events|length }}</div>
          <div class="stat-label">Total Events</div>
        </div>
      </div>
      {% endif %}

      <hr style="margin: 32px 0; border-color: var(--border-color);">

      <div class="d-flex justify-between align-center mb-3">
        <h3 class="heading-tertiary" style="margin: 0;">Your Events</h3>
      </div>

      {% if events %}
        <div>
          {% for e in events %}
            <div class="list-item-custom">
              <div class="list-item-content">
                <div class="list-item-title">{{ e.title }}</div>
                <div class="list-item-meta">
                  <span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                      <circle cx="12" cy="10" r="3"/>
                    </svg>
                    {{ e.location }}
                  </span>
                  <span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                      <line x1="16" y1="2" x2="16" y2="6"/>
                      <line x1="8" y1="2" x2="8" y2="6"/>
                      <line x1="3" y1="10" x2="21" y2="10"/>
                    </svg>
                    {{ e.when_dt }}
                  </span>
                </div>
                <p class="text-muted-custom" style="margin-top: 8px; margin-bottom: 0;">{{ e.description }}</p>
              </div>
              <a href="{{ url_for('view_event', event_id=e.id) }}" class="btn-custom btn-primary-custom btn-sm-custom">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
                Open
              </a>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <div class="empty-state">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
            <line x1="16" y1="2" x2="16" y2="6"/>
            <line x1="8" y1="2" x2="8" y2="6"/>
            <line x1="3" y1="10" x2="21" y2="10"/>
          </svg>
          <h3 class="heading-tertiary">No Events Yet</h3>
          <p class="text-muted-custom mb-3">Create your first event to start tracking attendance</p>
          <!-- <a href="{{ url_for('create_event') }}" class="btn-custom btn-primary-custom">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"/>
              <line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            Create Event
          </a> -->
        </div>
      {% endif %}
    </div>
  </div>

  <script src="{{ url_for('static', filename='js/theme-toggle.js') }}"></script>
</body>
</html>